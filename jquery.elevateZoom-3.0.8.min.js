/*
 * This is a modification of jQuery elevateZoom 3.0.8
 * https://github.com/Rezonans/elevatezoom
 *
 * Demo's and documentation for original library:
 * www.elevateweb.co.uk/image-zoom
 *
 * Support for rotationAngle option were added in this edition.
 * You can now apply elevateZoom for images, rotated by 90, 180 and 270 degrees via css transform, end it will work correctly with them.
 * On the other hand, support of all zoomTypes, except 'window' ('lens' and 'inner') were removed.
 * There is also code style improvements in comparison with original (fixed tabs, spaces, line breaks, removed needless empty and commented lines).
 *
 * Copyright (c) 2012 Andrew Eades
 * www.elevateweb.co.uk
 *
 * Dual licensed under the GPL and MIT licenses.
 * http://en.wikipedia.org/wiki/MIT_License
 * http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
"function"!=typeof Object.create&&(Object.create=function(o){function t(){}return t.prototype=o,new t}),function(o){var t={init:function(t,e){var i=this;i.elem=e,i.$elem=o(e),i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src"),i.options=o.extend({},o.fn.elevateZoom.options,t),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),[0,90,180,270].indexOf(i.options.rotationAngle)<0&&(console.warn("ElevateZoom: rotationAngle should be one of 0, 90, 180 or 270. Using default value: 0"),i.options.rotationAngle=0),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),o("#"+i.options.gallery+" a").click(function(t){return i.options.galleryActiveClass&&(o("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),o(this).addClass(i.options.galleryActiveClass)),t.preventDefault(),i.zoomImagePre=o(this).data(o(this).data("zoom-image")?"zoom-image":"image"),i.swaptheimage(o(this).data("image"),i.zoomImagePre),!1})},refresh:function(o){var t=this;setTimeout(function(){t.fetch(t.imageSrc)},o||t.options.refresh)},fetch:function(o){var t=this,e=new Image;e.onload=function(){t.largeWidth=e.width,t.largeHeight=e.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},e.src=o},startZoom:function(){var t=this;t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"==t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;transform: rotate("+t.options.rotationAngle+"deg);",0==t.options.rotationAngle||180==t.options.rotationAngle?t.zoomWindowStyle+="width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;":(90==t.options.rotationAngle||270==t.options.rotationAngle)&&(t.zoomWindowStyle+="width: "+String(t.options.zoomWindowHeight)+"px;height: "+String(t.options.zoomWindowWidth)+"px;")),"window"==t.options.zoomType&&(lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.lensStyle="background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+"; background-repeat: no-repeat; position: absolute;"),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","round"==t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=o('<div class="zoomContainer"></div>'),t.zoomContainer.css({"-webkit-transform":"translateZ(0)",position:"absolute",left:t.nzOffset.left,top:t.nzOffset.top}),0==t.options.rotationAngle||180==t.options.rotationAngle?t.zoomContainer.css({height:t.nzHeight,width:t.nzWidth}):(90==t.options.rotationAngle||270==t.options.rotationAngle)&&t.zoomContainer.css({height:t.nzWidth,width:t.nzHeight}),o("body").append(t.zoomContainer),"inner"!=t.options.zoomType&&(t.zoomLens=o('<div class="zoomLens" style="'+t.lensStyle+t.lensRound+'">&nbsp;</div>').appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=o("<div/>").addClass("tintContainer"),t.zoomTint=o('<div class="zoomTint" style="'+t.tintStyle+'"></div>'),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=o('<img style="position: absolute; left: 0; top: 0; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}))),t.zoomWindow=isNaN(t.options.zoomWindowPosition)?o('<div style="z-index:999; left:'+t.windowOffsetLeft+"px; top:"+t.windowOffsetTop+"px; "+t.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo("body").click(function(){t.$elem.trigger("click")}):o('<div style="z-index:999; left:'+t.windowOffsetLeft+"px; top:"+t.windowOffsetTop+"px; "+t.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=o("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"window"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:'url("'+t.imageSrc+'")'}),t.$elem.bind("touchmove",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(e)}),t.zoomContainer.bind("touchmove",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(e)}),t.zoomContainer.bind("touchend",function(){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend",function(){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(e)}),t.zoomLens.bind("touchend",function(){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.$elem.bind("mousemove",function(o){0==t.overWindow&&t.setElements("show"),(t.lastX!==o.clientX||t.lastY!==o.clientY)&&(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),t.zoomContainer.bind("mousemove",function(o){0==t.overWindow&&t.setElements("show"),(t.lastX!==o.clientX||t.lastY!==o.clientY)&&(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),"inner"!=t.options.zoomType&&t.zoomLens.bind("mousemove",function(o){(t.lastX!==o.clientX||t.lastY!==o.clientY)&&(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),t.options.tint&&"inner"!=t.options.zoomType&&t.zoomTint.bind("mousemove",function(o){(t.lastX!==o.clientX||t.lastY!==o.clientY)&&(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),t.zoomContainer.add(t.$elem).mouseenter(function(){0==t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||(t.setElements("hide"),t.options.onDestroy(t.$elem))}),"inner"!=t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.minZoomLevel=t.options.minZoomLevel?t.options.minZoomLevel:2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){t.scrollLock=!0,clearTimeout(o.data(this,"timer")),o.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var i=e.originalEvent.wheelDelta||-1*e.originalEvent.detail;return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i/120>0?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):t.changeZoomLevel(t.options.maxZoomLevel?parseFloat(t.currentZoomLevel)+parseFloat(t.options.scrollZoomIncrement)<=t.options.maxZoomLevel?parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement:parseFloat(t.options.maxZoomLevel):parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1})},setElements:function(o){var t=this;return t.options.zoomEnabled?("show"==o&&t.isWindowSet&&("window"==t.options.zoomType&&t.showHideWindow("show"),t.options.showLens&&t.showHideLens("show"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("show")),void("hide"==o&&("window"==t.options.zoomType&&t.showHideWindow("hide"),t.options.tint||t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&t.showHideTint("hide")))):!1},setPosition:function(o){var t=this;return t.options.zoomEnabled?t.$elem.is(":visible")?(t.zoomContainer.show(),t.nzHeight=t.$elem.height(),t.nzWidth=t.$elem.width(),t.nzOffset=t.$elem.offset(),t.zoomContainer.css({top:t.nzOffset.top}),t.zoomContainer.css({left:t.nzOffset.left}),t.mouseLeft=parseInt(o.pageX-t.nzOffset.left),t.mouseTop=parseInt(o.pageY-t.nzOffset.top),void("window"==t.options.zoomType&&(t.Etoppos=t.mouseTop<t.zoomLens.height()/2,t.Eboppos=t.mouseTop>t.zoomContainer.height()-t.zoomLens.height()/2-2*t.options.lensBorderSize,t.Eloppos=t.mouseLeft<t.zoomLens.width()/2,t.Eroppos=t.mouseLeft>t.zoomContainer.width()-t.zoomLens.width()/2-2*t.options.lensBorderSize,t.mouseLeft<0||t.mouseTop<0||t.mouseLeft>t.zoomContainer.width()||t.mouseTop>t.zoomContainer.height()?t.setElements("hide"):(t.options.showLens&&(t.lensTopPos=Math.floor(t.mouseTop-t.zoomLens.height()/2),t.lensLeftPos=Math.floor(t.mouseLeft-t.zoomLens.width()/2)),t.Etoppos&&(t.lensTopPos=0),t.Eloppos&&(t.lensLeftPos=0),"window"==t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.zoomContainer.height()-t.zoomLens.height()-2*t.options.lensBorderSize,0)),t.Eroppos&&(t.lensLeftPos=t.zoomContainer.width()-t.zoomLens.width()-2*t.options.lensBorderSize)),"window"==t.options.zoomType&&t.setWindowPosition(o),t.options.showLens&&t.zoomLens.css({left:t.lensLeftPos+"px",top:t.lensTopPos+"px"}))))):(t.zoomContainer.hide(),!1):!1},showHideWindow:function(o){var t=this;"show"==o?t.isWindowActive||(t.options.zoomWindowFadeIn?t.zoomWindow.stop(!0,!0,!1).fadeIn(t.options.zoomWindowFadeIn):t.zoomWindow.show(),t.isWindowActive=!0):"hide"==o&&t.isWindowActive&&(t.options.zoomWindowFadeOut?t.zoomWindow.stop(!0,!0).fadeOut(t.options.zoomWindowFadeOut,function(){t.loop&&(clearInterval(t.loop),t.loop=!1)}):t.zoomWindow.hide(),t.isWindowActive=!1)},showHideLens:function(o){var t=this;"show"==o?t.isLensActive||(t.options.lensFadeIn?t.zoomLens.stop(!0,!0,!1).fadeIn(t.options.lensFadeIn):t.zoomLens.show(),t.isLensActive=!0):"hide"==o&&t.isLensActive&&(t.options.lensFadeOut?t.zoomLens.stop(!0,!0).fadeOut(t.options.lensFadeOut):t.zoomLens.hide(),t.isLensActive=!1)},showHideTint:function(o){var t=this;"show"==o?t.isTintActive||(t.options.zoomTintFadeIn?t.zoomTint.css({opacity:t.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(t.zoomTint.css({opacity:t.options.tintOpacity}).animate(),t.zoomTint.show()),t.isTintActive=!0):"hide"==o&&t.isTintActive&&(t.options.zoomTintFadeOut?t.zoomTint.stop(!0,!0).fadeOut(t.options.zoomTintFadeOut):t.zoomTint.hide(),t.isTintActive=!1)},setWindowPosition:function(t){var e=this;if(e.externalContainer=o("#"+e.options.zoomWindowPosition),e.externalContainerWidth=e.externalContainer.width(),e.externalContainerHeight=e.externalContainer.height(),e.externalContainerOffset=e.externalContainer.offset(),e.windowOffsetTop=e.externalContainerOffset.top,e.windowOffsetLeft=e.externalContainerOffset.left,e.isWindowSet=!0,0==e.options.rotationAngle||180==e.options.rotationAngle)e.windowOffsetTop=e.windowOffsetTop+e.options.zoomWindowOffety,e.windowOffsetLeft=e.windowOffsetLeft+e.options.zoomWindowOffetx;else if(90==e.options.rotationAngle||270==e.options.rotationAngle){var i=(e.zoomWindow.width()-e.zoomWindow.height())/2;e.windowOffsetTop=e.windowOffsetTop+e.options.zoomWindowOffety+i,e.windowOffsetLeft=e.windowOffsetLeft+e.options.zoomWindowOffetx-i}e.zoomWindow.css({top:e.windowOffsetTop}),e.zoomWindow.css({left:e.windowOffsetLeft});var n,s,a,r;0==e.options.rotationAngle||180==e.options.rotationAngle?(n=(t.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.height()/2,s=(t.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.width()/2):(90==e.options.rotationAngle||270==e.options.rotationAngle)&&(n=(t.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.width()/2,s=(t.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.height()/2),a=-1*(e.largeHeight/e.currentZoomLevel-e.zoomWindow.height()),r=-1*(e.largeWidth/e.currentZoomLevel-e.zoomWindow.width()),0==e.options.rotationAngle?(e.windowTopPos=e.Etoppos?0:e.Eboppos?a:-1*n,e.windowLeftPos=e.Eloppos?0:e.Eroppos?r:-1*s):90==e.options.rotationAngle?(e.windowLeftPos=e.Etoppos?0:e.Eboppos?r:-1*n,e.windowTopPos=e.Eloppos?a:e.Eroppos?0:s+a):180==e.options.rotationAngle?(e.windowTopPos=e.Etoppos?a:e.Eboppos?0:a+n,e.windowLeftPos=e.Eloppos?r:e.Eroppos?0:r+s):270==e.options.rotationAngle&&(e.windowLeftPos=e.Etoppos?r:e.Eboppos?0:n+r,e.windowTopPos=e.Eloppos?0:e.Eroppos?a:-1*s),e.fullheight&&((0==e.options.rotationAngle||180==e.options.rotationAngle)&&(e.windowTopPos=0),(90==e.options.rotationAngle||270==e.options.rotationAngle)&&(e.windowLeftPos=0)),e.fullwidth&&((0==e.options.rotationAngle||180==e.options.rotationAngle)&&(e.windowLeftPos=0),(90==e.options.rotationAngle||270==e.options.rotationAngle)&&(e.windowTopPos=0)),"window"==e.options.zoomType&&(1==e.zoomLock&&(e.widthRatio<=1&&(e.windowLeftPos=0),e.heightRatio<=1&&(e.windowTopPos=0)),e.options.easing?console.warn("Easing not supported"):(e.changeBgSize&&(e.zoomWindow.css(e.nzHeight>e.nzWidth?{"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"}:e.largeHeight/e.newvaluewidth<e.options.zoomWindowHeight?{"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"}:{"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"}),e.changeBgSize=!1),e.zoomWindow.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"})))},setTintPosition:function(o){var t=this;t.nzOffset=t.$elem.offset(),t.tintpos=String(-1*(o.pageX-t.nzOffset.left-t.zoomLens.width()/2)),t.tintposy=String(-1*(o.pageY-t.nzOffset.top-t.zoomLens.height()/2)),t.Etoppos&&(t.tintposy=0),t.Eloppos&&(t.tintpos=0),t.Eboppos&&(t.tintposy=-1*(t.nzHeight-t.zoomLens.height()-2*t.options.lensBorderSize)),t.Eroppos&&(t.tintpos=-1*(t.nzWidth-t.zoomLens.width()-2*t.options.lensBorderSize)),t.options.tint&&(t.fullheight&&(t.tintposy=0),t.fullwidth&&(t.tintpos=0),t.zoomTintImage.css({left:t.tintpos+"px"}),t.zoomTintImage.css({top:t.tintposy+"px"}))},swaptheimage:function(t,e){var i=this,n=new Image;i.options.loadingIcon&&(i.spinner=o('<div style="background: url("'+i.options.loadingIcon+'") no-repeat center; height:'+i.nzHeight+"px; width:"+i.nzWidth+'px; z-index: 2000; position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),n.onload=function(){i.largeWidth=n.width,i.largeHeight=n.height,i.zoomImage=e,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(t,e)},n.src=e},swapAction:function(t,e){var i=this,n=new Image;if(n.onload=function(){i.nzHeight=n.height,i.nzWidth=n.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},n.src=t,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:'url("'+e+'")'}),i.currentImage=e,i.options.imageCrossfade){var s=i.$elem,a=s.clone();if(i.$elem.attr("src",t),i.$elem.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,function(){o(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),s.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var r=i.zoomTintImage,l=r.clone();i.zoomTintImage.attr("src",e),i.zoomTintImage.after(l),l.stop(!0).fadeOut(i.options.imageCrossfade,function(){o(this).remove()}),r.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",t),i.options.tint&&(i.zoomTintImage.attr("src",e),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){var o=this;o.options.loadingIcon&&o.spinner.hide(),o.nzOffset=o.$elem.offset(),o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.currentZoomLevel=o.options.zoomLevel,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"window"==o.options.zoomType&&(lensHeight=o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?o.nzHeight:String(o.options.zoomWindowHeight/o.heightRatio),lensWidth=o.options.zoomWindowWidth<o.options.zoomWindowWidth?o.nzWidth:o.options.zoomWindowWidth/o.widthRatio,o.zoomLens&&(o.zoomLens.css("width",lensWidth),o.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){var o=this;return o.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?o("#"+t.options.gallery+" a").each(function(){var e="";o(this).data("zoom-image")?e=o(this).data("zoom-image"):o(this).data("image")&&(e=o(this).data("image")),e==t.zoomImage?t.gallerylist.unshift({href:""+e,title:o(this).find("img").attr("title")}):t.gallerylist.push({href:""+e,title:o(this).find("img").attr("title")})}):t.gallerylist.push({href:""+t.zoomImage,title:o(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(o){var t=this;t.scrollingLock=!0,t.newvalue=parseFloat(o).toFixed(2),newvalue=parseFloat(o).toFixed(2);var e,i;0==t.options.rotationAngle||180==t.options.rotationAngle?(e=t.largeHeight,i=t.largeWidth):(90==t.options.rotationAngle||270==t.options.rotationAngle)&&(e=t.largeWidth,i=t.largeHeight);var n=t.zoomContainer.width(),s=t.zoomContainer.height();maxheightnewvalue=e/t.options.zoomWindowHeight,maxwidthtnewvalue=i/t.options.zoomWindowWidth,maxheightnewvalue<=newvalue?(t.heightRatio=e/maxheightnewvalue/s,t.newvalueheight=maxheightnewvalue,t.fullheight=!0):(t.heightRatio=e/newvalue/s,t.newvalueheight=newvalue,t.fullheight=!1),maxwidthtnewvalue<=newvalue?(t.widthRatio=i/maxwidthtnewvalue/n,t.newvaluewidth=maxwidthtnewvalue,t.fullwidth=!0):(t.widthRatio=i/newvalue/n,t.newvaluewidth=newvalue,t.fullwidth=!1),t.zoomLock=0,t.changeZoom=!0,t.options.zoomWindowHeight/t.heightRatio-.1<=s&&(t.currentZoomLevel=t.newvalueheight,t.changeBgSize=!0,t.zoomLens.css({height:String(t.options.zoomWindowHeight/t.heightRatio)+"px"})),t.options.zoomWindowWidth/t.widthRatio-.1<=n&&(t.newvaluewidth>t.newvalueheight&&(t.currentZoomLevel=t.newvaluewidth),t.changeBgSize=!0,t.zoomLens.css({width:String(t.options.zoomWindowWidth/t.widthRatio)+"px"})),t.setPosition(t.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(o){var t=this;"enable"==o&&(t.options.zoomEnabled=!0),"disable"==o&&(t.options.zoomEnabled=!1)}};o.fn.elevateZoom=function(e){return this.each(function(){var i=Object.create(t);i.init(e,this),o.data(this,"elevateZoom",i)})},o.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",rotationAngle:0,lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:o.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:o.noop,onImageSwapComplete:o.noop}}(jQuery,window,document);
